# netology_12-7

# Домашнее задание к занятию «Репликация и масштабирование. Часть 2»

## Задание 1

Опишите основные преимущества использования масштабирования методами:
* активный master-сервер и пассивный репликационный slave-сервер;
* master-сервер и несколько slave-серверов;
Дайте ответ в свободной форме.

## Решение 1

Активный master-сервер и пассивный репликационный slave-сервер.  
Основные преимущества:
* Снижение нагрузки на master-сервер за счёт перераспределения запросов чтения на slave-сервер. 
* Повышение отказоустойчивости — в случае отказа master-сервера можно быстро переключить нагрузку на slave, который становится новым master. 
* Удобство обслуживания — поскольку slave-сервер содержит данные только для чтения, можно запускать процессы, обслуживающие базу данных, не прерывая работу системы. 

Master-сервер и несколько slave-серверов.  
Те же преимущества, что были указаны выше + дополнительные преимущества.  
Основные преимущества:
* Распределение нагрузки — если БД обслуживает запросы разных типов (быстрые и лёгкие, медленные и тяжёлые), можно развести эти запросы по разным серверам для увеличения эффективности работы каждого типа. 
* Удобство распределения данных — например, можно установить сервера в разных городах и перенаправлять клиентов в зависимости от региона, что уменьшает путь запроса к серверу. 
* Повышение производительности чтения — за счёт наличия нескольких копий данных можно масштабировать нагрузку на чтение: добавить больше реплик и распределять запросы чтения между ними. habr.com

## Задание 2

Разработайте план для выполнения горизонтального и вертикального шардинга базы данных. База данных состоит из трёх таблиц:
* пользователи,
* книги,
* магазины (столбцы произвольно).  
Опишите принципы построения системы и их разграничение или разбивку между базами данных.  
Пришлите блок-схему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.

## Решение 2

Горизонтальное масштабирование. Шардинг.  
Предполагаю исходные данные:
1.	Имеем интернет-магазин книг.
2.	Имеем таблицы: пользователи, книги, магазины.
3.	Из трёх таблиц, таблица  - книги очень велика по размерам. Причём, данные по книжным изданиям постоянно пополняются или каким-либо образом изменяются.

Реализация:
1.	Использую репликацию типа Master-Master.
2.	Разбиваю таблицу книги по строкам и выношу сегменты разбитых строк на отдельные сервера.
3.	Эти сервера будут выполнять функции чтения и записи. 

![](https://github.com/eskin-igor/netology_12-7/blob/main/12-7/12-7-2-1_%D0%B3%D0%BE%D1%80%D0%B8%D0%B7%D0%BE%D0%BD%D1%82%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9%20%D1%88%D0%B0%D1%80%D0%B4%D0%B8%D0%BD%D0%B3.png)

Вертикальное масштабирование. Шардинг.  
Предполагаю исходные данные:
1.	Имеем интернет-магазин книг.
2.	Имеем таблицы: пользователи, книги, магазины.
3.	Есть большая нагрузка на чтение по всем таблицам.

Реализация:
1.	Использую репликацию типа Master-Slave.
2.	Для каждой таблицы добавляю по серверу-Slave.
3.	Сервера-Slave будут разгружать сервер-Master по чтению данных из базы. 

![](https://github.com/eskin-igor/netology_12-7/blob/main/12-7/12-7-2-2_%D0%B2%D0%B5%D1%80%D1%82%D0%B8%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9%20%D1%88%D0%B0%D1%80%D0%B4%D0%B8%D0%BD%D0%B3.png)
